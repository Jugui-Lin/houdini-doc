{"type": "root", "attrs": {"type": "vex", "context": "all", "tags": "transform, point", "group": "transform", "showtags": "true"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["ptransform"], "extent": [0, 15]}, {"type": "summary", "indent": 0, "text": ["Transforms a vector from one space to another."], "extent": [84, 138]}, {"type": "usage_group", "body": [{"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["vector ptransform(vector vec, matrix transform)"]}], "role": "item", "extent": [138, 196]}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["vector4 ptransform( vector4 vec; matrix transform)"]}], "role": "item", "extent": [196, 258], "body": [{"type": "para", "indent": 4, "text": ["Transforms the vector using the given transform matrix."], "extent": [258, 319]}], "container": true}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["vector ptransform(string tospace, vector vec)"]}], "role": "item", "extent": [319, 375]}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["vector4 ptransform(string tospace, vector4 vec)"]}], "role": "item", "extent": [375, 434], "body": [{"type": "para", "indent": 4, "text": ["Transforms from ", {"type": "code", "text": ["\"space:current\""]}, "."], "extent": [434, 474]}], "container": true}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["vector ptransform(string fromspace, string tospace, vector vec)"]}], "role": "item", "extent": [474, 548]}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["vector4 ptransform(string fromspace, string tospace, vector4 vec)"]}], "role": "item", "extent": [548, 625], "body": [{"type": "para", "indent": 4, "text": ["Transforms the vector from ", {"type": "code", "text": ["fromspace"]}, " into ", {"type": "code", "text": ["tospace"]}, "."], "extent": [625, 685]}], "container": true}], "container": true, "role": "item_group"}, {"type": "arg_group", "body": [{"ext": null, "type": "arg", "indent": 0, "text": [{"type": "code", "text": ["fromspace"]}, ", ", {"type": "code", "text": ["tospace"]}], "role": "item", "extent": [685, 714], "body": [{"type": "para", "indent": 0, "text": ["The possible values for the space arguments are:"], "extent": [16, 66]}, {"type": "table", "thead": [], "body": [{"type": "row", "body": [{"type": "cell", "indent": 0, "text": ["An object path "], "role": "td", "extent": [66, 83], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 4, "text": ["Use the object space of an object specified by a path string."], "extent": [83, 150]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [150, 159], "body": [{"type": "para", "indent": 8, "text": ["In some cases, such as point instancing, mantra may\n        automatically mangle object paths. You can generate an ", {"type": "code", "text": [".ifd"]}, "\n        file and look inside to try to find what mantra is calling\n        the object you want."], "extent": [159, 386]}], "container": true}], "container": true, "role": "item_group"}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["\"space:object\""]}, " "], "role": "td", "extent": [386, 405], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 4, "text": ["Object space of the ", {"type": "em", "text": ["current"]}, " object."], "extent": [405, 448]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["\"space:light\""]}, " "], "role": "td", "extent": [448, 466], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 4, "text": ["Object space of the ", {"type": "em", "text": ["current"]}, " light when executing a shadow or light shader."], "extent": [466, 548]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["\"space:world\""]}, " "], "role": "td", "extent": [548, 566], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 4, "text": ["Houdini world space."], "extent": [566, 592]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["\"space:camera\""]}, " "], "role": "td", "extent": [592, 611], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 4, "text": ["mantra camera space."], "extent": [611, 637]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["\"space:ndc\""]}, " "], "role": "td", "extent": [637, 653], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 4, "text": ["Normal Device Coordinate space."], "extent": [653, 690]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["\"space:lightndc\""]}, " "], "role": "td", "extent": [690, 711], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 4, "text": ["Normal Device Coordinate space for the ", {"type": "em", "text": ["current"]}, " light when executing a shadow or light shader."], "extent": [711, 812]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 0, "text": [{"type": "code", "text": ["\"space:current\""]}, " "], "role": "td", "extent": [812, 832], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 4, "text": ["The current space the vector is in."], "extent": [832, 872]}]}], "divider": false}]}], "container": true}], "container": true, "role": "item_group"}, {"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Vex", "value": "/vex/functions/ptransform", "type": "link", "text": "", "fallback_text": "ptransform()", "fullpath": "/vex/functions/ptransform"}, " interprets the vector as a position."], "extent": [741, 797]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Vex", "value": "/vex/functions/vtransform", "type": "link", "text": "", "fallback_text": "vtransform()", "fullpath": "/vex/functions/vtransform"}, " interprets the vector as a direction\nvector, and so doesn\u2019t apply the translations from the matrix."], "extent": [797, 916]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Vex", "value": "/vex/functions/ntransform", "type": "link", "text": "", "fallback_text": "ntransform()", "fullpath": "/vex/functions/ntransform"}, " interprets the vector as a normal vector,\nand so multiplies by the inverse transpose of the matrix (ignoring the\ntranslations)."], "extent": [916, 1065]}], "container": true}, {"level": 1, "id": "examples", "container": true, "type": "examples_section", "indent": 0, "role": "section", "extent": [1065, 1075], "body": [{"type": "para", "indent": 0, "text": ["The version with only a ", {"type": "var", "text": ["tospace"]}, " argument assumes ", {"type": "var", "text": ["fromspace"]}, " is\n", {"type": "code", "text": ["\"space:current\""]}, ". For example:"], "extent": [1075, 1179]}, {"lang": "vex", "type": "pre", "indent": 0, "text": ["\nPworld = ptransform(\"space:world\", P);\n"], "extent": [1179, 1232]}, {"type": "para", "indent": 0, "text": ["\u2026is equivalent to:"], "extent": [1232, 1255]}, {"lang": "vex", "type": "pre", "indent": 0, "text": ["\nPworld = ptransform(\"space:current\", \"space:world\", P);\n"], "extent": [1255, 1325]}, {"type": "para", "indent": 0, "text": ["Transform a vector from its current space to object space:"], "extent": [1325, 1386]}, {"lang": "vex", "type": "pre", "indent": 0, "text": ["\nospace = ptransform(\"space:object\", P)\n"], "extent": [1386, 1439]}, {"type": "para", "indent": 0, "text": ["Transform a vector from object space to mantra\u2019s natural coordinate\nspace (", {"type": "q", "text": ["camera"]}, " space):"], "extent": [1439, 1533]}, {"lang": "vex", "type": "pre", "indent": 0, "text": ["\nospace = ptransform(\"space:object\", \"space:current\", P)\n"], "extent": [1533, 1603]}], "text": "Examples"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [1603, 1614], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Vex", "value": "/vex/functions/ntransform", "type": "link", "text": "", "fallback_text": "ntransform()", "fullpath": "/vex/functions/ntransform"}], "extent": [1614, 1633]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Vex", "value": "/vex/functions/vtransform", "type": "link", "text": "", "fallback_text": "vtransform()", "fullpath": "/vex/functions/vtransform"}], "extent": [1633, 1652]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Vex", "value": "/vex/functions/getspace", "type": "link", "text": "", "fallback_text": "getspace()", "fullpath": "/vex/functions/getspace"}], "extent": [1652, 1670]}], "container": true}], "text": "Related"}], "title": ["ptransform"], "summary": ["Transforms a vector from one space to another."], "included": ["/vex/functions/_space_args"]}