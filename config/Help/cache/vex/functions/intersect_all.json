{"type": "root", "attrs": {"type": "vex", "context": "all", "tags": "ray, intersect", "group": "geo", "showtags": "true"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["intersect_all"], "extent": [0, 18]}, {"type": "summary", "indent": 0, "text": ["Computes all intersections of the specified ray with geometry."], "extent": [79, 149]}, {"type": "para", "indent": 0, "text": ["To get only the ", {"type": "em", "text": ["first"]}, " intersection, use ", {"scheme": "Vex", "value": "/vex/functions/intersect", "type": "link", "text": "", "fallback_text": "intersect()", "fullpath": "/vex/functions/intersect"}, "."], "extent": [149, 209]}, {"type": "usage_group", "body": [{"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["int intersect_all( <geometry>; string group; vector orig; vector dir; vector &pos[]; int &prim[]; vector &uvw[], float tol=0.01, float ttol=0.01 )"]}], "role": "item", "extent": [209, 367]}], "container": true, "role": "item_group"}, {"type": "arg_group", "body": [{"ext": null, "type": "arg", "indent": 0, "text": [{"type": "code", "text": ["<geometry>"]}], "role": "item", "extent": [16, 35], "body": [{"type": "para", "indent": 4, "text": ["When running in the context of a node (such as a wrangle SOP), this argument can be an integer representing the input number (starting at 0) to read the geometry from."], "extent": [58, 235]}, {"type": "para", "indent": 4, "text": ["Alternatively, the argument can be a string specifying a geometry file (for example, a ", {"type": "code", "text": [".bgeo"]}, ") to read from. When running inside Houdini, this can be an ", {"type": "code", "text": ["op:/path/to/sop"]}, " reference."], "extent": [235, 423]}], "container": true, "attrs": {"id": "geometry"}}, {"ext": null, "type": "arg", "indent": 0, "text": {"type": "code", "text": {"type": "code", "text": ["group"]}}, "role": "item", "extent": [1167, 1179], "body": [{"type": "para", "indent": 4, "text": ["If given, only intersect primitives in this group."], "extent": [1199, 1255]}], "container": true, "attrs": {"id": "group"}}, {"ext": null, "type": "arg", "indent": 0, "text": {"type": "code", "text": {"type": "code", "text": ["orig"]}}, "role": "item", "extent": [1255, 1266], "body": [{"type": "para", "indent": 4, "text": ["The ray origin point."], "extent": [1285, 1312]}], "container": true, "attrs": {"id": "orig"}}, {"ext": null, "type": "arg", "indent": 0, "text": {"type": "code", "text": {"type": "code", "text": ["dir"]}}, "role": "item", "extent": [1312, 1322], "body": [{"type": "para", "indent": 4, "text": ["The ray direction ", {"type": "em", "text": ["and maximum distance"]}, ".\n    This function does not expect a normalized direction vector.\n    Instead, it uses the length of the vector as the maximum distance to search."], "extent": [1340, 1533]}], "container": true, "attrs": {"id": "dir"}}, {"ext": null, "type": "arg", "indent": 0, "text": {"type": "code", "text": ["&pos"]}, "role": "item", "extent": [473, 484], "body": [{"type": "para", "indent": 4, "text": ["The function overwrites this array with the world space positions of each hit."], "extent": [484, 568]}], "container": true}, {"ext": null, "type": "arg", "indent": 0, "text": {"type": "code", "text": ["&prim"]}, "role": "item", "extent": [568, 580], "body": [{"type": "para", "indent": 4, "text": ["The function overwrites this array with the primitive numbers of the primitives hit by the ray."], "extent": [580, 681]}], "container": true}, {"ext": null, "type": "arg", "indent": 0, "text": {"type": "code", "text": ["&uvw"]}, "role": "item", "extent": [681, 692], "body": [{"type": "para", "indent": 4, "text": ["The function overwrites this array with the parametric UVW coordinates of where each intersection occurred on the primitive."], "extent": [692, 822]}], "container": true}, {"ext": null, "type": "arg", "indent": 0, "text": [{"type": "code", "text": ["tol"]}, ", ", {"type": "code", "text": ["ttol"]}], "role": "item", "extent": [822, 842], "body": [{"type": "para", "indent": 4, "text": [{"type": "code", "text": ["tol"]}, " is the 3D tolerance. ", {"type": "code", "text": ["ttol"]}, " is the ray tolerance.\n    Collision points within the parametric ray tolerance, ", {"type": "code", "text": ["ttol"]}, " will be merged\n    together, often useful to avoid getting extra intersects when hitting the edges\n    of geometry."], "extent": [842, 1088]}, {"type": "para", "indent": 4, "text": ["To get ", {"type": "em", "text": ["all"]}, " intersections without merging, set ", {"type": "code", "text": ["ttol"]}, " to ", {"type": "code", "text": ["-1"]}, "."], "extent": [1088, 1157]}], "container": true}, {"ext": null, "type": "arg", "indent": 0, "role": "item", "extent": [1157, 1167], "body": [{"type": "para", "indent": 4, "text": ["The number of intersections, or ", {"type": "code", "text": ["0"]}, " if the ray didn\u2019t hit anything."], "extent": [1167, 1240]}], "container": true, "returns": true}], "container": true, "role": "item_group"}, {"type": "note_group", "body": [{"type": "note", "indent": 0, "role": "item", "extent": [1240, 1246], "body": [{"type": "para", "indent": 4, "text": ["When intersections are performed against metaball geometry, it is\n    impossible to determine the primitive number of the metaball which\n    was hit. In this case, the function returns the number of primitives\n    in the intersection geometry."], "extent": [1246, 1496]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [1496, 1505], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Vex", "value": "/vex/functions/intersect", "type": "link", "text": "", "fallback_text": "intersect()", "fullpath": "/vex/functions/intersect"}], "extent": [1505, 1524]}], "container": true}], "text": "Related"}], "title": ["intersect_all"], "summary": ["Computes all intersections of the specified ray with geometry."], "included": ["/vex/functions/_common", "/vex/functions/intersect"]}