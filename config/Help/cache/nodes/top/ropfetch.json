{"type": "root", "attrs": {"type": "node", "context": "top", "internal": "ropfetch", "icon": "TOP/ropfetch", "since": "17.5", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["ROP Fetch"], "extent": [89, 103]}, {"type": "summary", "indent": 0, "text": ["Creates work items that cook a ROP node or network."], "extent": [103, 163]}, {"type": "para", "indent": 0, "text": ["This node cooks a ROP node or network using TOPs in either the current ", {"type": "code", "text": [".hip"]}, " file or an external file. It creates one work item per frame, based on the frame generation parameters."], "extent": [163, 346]}, {"type": "para", "indent": 0, "text": ["Optionally, you can batch the work items into a single job for all frames, or divide them into smaller groups of frames. This node cooks each batch as a single job on the farm or locally. Batching all frames into one job is typically used for simulations so that the simulation data can be kept in memory rather than be cached to disk. Smaller batch sizes, like a 4-frames-per job, can also help avoid overhead loading the ", {"type": "code", "text": [".hip"]}, " file when cooking a ROP that cooks quickly."], "extent": [346, 821]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 0, "role": "item", "extent": [821, 826], "body": [{"type": "para", "indent": 4, "text": ["Oftentimes a custom driver node will write out several files which are ", {"type": "em", "text": ["not"]}, " automatically picked up as output files by PDG. "], "extent": [826, 957]}, {"type": "para", "indent": 4, "text": ["However, if you give the driver node a toggle parameter named ", {"type": "code", "text": ["pdg_logoutput"]}, ", and you toggle that parameter to ", {"type": "code", "text": ["true"]}, " before it is cooked by the ", {"type": "ui", "text": ["ROP Fetch"]}, ", then its printed output will be parsed for lines that match the pattern ", {"type": "code", "text": ["OUTPUT_FILE:{file_path};"]}, " and each matched ", {"type": "code", "text": ["file_path"]}, " will become output files for the ", {"type": "ui", "text": ["ROP Fetch"]}, " work items."], "extent": [957, 1310]}], "container": true}, {"type": "tip", "indent": 0, "role": "item", "extent": [1310, 1315], "body": [{"type": "para", "indent": 4, "text": ["The ", {"type": "code", "text": ["$HH/help/files/pdg_examples/top_ocean"]}, " example shows how you can use this node to cook ROPs in an existing scene file."], "extent": [1315, 1444]}], "container": true}], "container": true, "role": "item_group"}, {"level": 1, "id": "top_attributes", "container": true, "type": "top_attributes_section", "indent": 0, "role": "section", "extent": [1444, 1460], "body": [{"type": "top_attributes_item_group", "body": [{"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["hip"]}], "role": "item", "extent": [1460, 1470], "body": [{"type": "para", "indent": 4, "text": ["The path to the ", {"type": "code", "text": [".hip"]}, " file that contains the ROP node."], "extent": [1489, 1550]}], "container": true, "attrs": {"type": "string"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["outputparm"]}], "role": "item", "extent": [1550, 1566], "body": [{"type": "para", "indent": 4, "text": ["The name of the parameter on the target ROP node that contains the output\n    file path. For example, when used with a ROP Geometry node, this attribute\n    will be set to ", {"type": "code", "text": ["sopoutput"]}, "."], "extent": [1585, 1775]}], "container": true, "attrs": {"type": "string"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["executeparm"]}], "role": "item", "extent": [1775, 1792], "body": [{"type": "para", "indent": 4, "text": ["The name of the paramter on the target ROP node that is pressed in order to trigger a cook of the ROP node. If the node is an instance of ", {"scheme": "Hom", "value": "/hom/hou/RopNode", "type": "link", "text": "", "fallback_text": "hou.RopNode", "fullpath": "/hom/hou/RopNode"}, " the ", {"scheme": "Hom", "value": "/hom/hou/RopNode#render", "type": "link", "text": "", "fallback_text": "hou.RopNode.render", "fullpath": "/hom/hou/RopNode#render", "fragment": "#render"}, " method will be used instead of pressing a button parm. By default, this attribute is set to ", {"type": "code", "text": ["execute"]}, " unless a custom button name is specified using the ", {"type": "ui", "text": ["Execute Parm Name"]}, " parameter."], "extent": [1811, 2187]}], "container": true, "attrs": {"type": "string"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["rop"]}], "role": "item", "extent": [2187, 2196], "body": [{"type": "para", "indent": 4, "text": ["The ROP node path within the ", {"type": "code", "text": [".hip"]}, " file."], "extent": [2215, 2262]}], "container": true, "attrs": {"type": "string"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["top"]}], "role": "item", "extent": [2262, 2271], "body": [{"type": "para", "indent": 4, "text": ["If the ROP is contained within a TOP asset, such as the ROP Geometry\n    node, then this attribute is set to the path to that TOP node."], "extent": [2290, 2431]}], "container": true, "attrs": {"type": "string"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["sourceop"]}], "role": "item", "extent": [2431, 2444], "body": [{"type": "para", "indent": 4, "text": ["If the ", {"scheme": null, "value": "#oppath", "type": "link", "text": ["Source Node Path"], "fullpath": "/nodes/top/ropfetch#oppath", "fragment": "#oppath"}, " is set, then this attribute contains the path to the source data used by the ROP this work item is cooking."], "extent": [2463, 2610]}], "container": true, "attrs": {"type": "string"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["control"]}], "role": "item", "extent": [2610, 2623], "body": [{"type": "para", "indent": 4, "text": ["When running a distributed sim, this attribute is set to the path to the Control DOP\n    node."], "extent": [2642, 2742]}], "container": true, "attrs": {"type": "string"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["sharedserver"]}], "role": "item", "extent": [2742, 2760], "body": [{"type": "para", "indent": 4, "text": ["When running a distributed sim, this attribute is set to the identifier for\n    the shared sim tracker process."], "extent": [2779, 2896]}], "container": true, "attrs": {"type": "string"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["trackerhost"]}], "role": "item", "extent": [2896, 2913], "body": [{"type": "para", "indent": 4, "text": ["When running a distributed sim, this attribute is set to the hostname of the\n    machine that has the distributed sim tracker."], "extent": [2932, 3064]}], "container": true, "attrs": {"type": "string"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["trackerport"]}], "role": "item", "extent": [3064, 3081], "body": [{"type": "para", "indent": 4, "text": ["When running a distributed sim, this attribute is set to the port used to\n    connect to the sim tracker. In combination with ", {"type": "code", "text": ["trackerhost"]}, ", this forms\n    the complete address of the simulation tracker. For example, ", {"type": "code", "text": ["trackerhost:trackerpor"]}, "."], "extent": [3101, 3349]}], "container": true, "attrs": {"type": "integer"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["range"]}], "role": "item", "extent": [3349, 3360], "body": [{"type": "para", "indent": 4, "text": ["The start, end, and increment frame range values associated with the work\n    item. If the work item is in a batch, then these values refer to the range\n    for the entire batch."], "extent": [3379, 3563]}], "container": true, "attrs": {"type": "float3"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["slice"]}], "role": "item", "extent": [3563, 3574], "body": [{"type": "para", "indent": 4, "text": ["When running a distributed sim, this attribute is set to the slice number\n    associated with the work item."], "extent": [3594, 3708]}], "container": true, "attrs": {"type": "integer"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["slicetype"]}], "role": "item", "extent": [3708, 3723], "body": [{"type": "para", "indent": 4, "text": ["The type of distributed sim being used, set to either ", {"type": "code", "text": ["0"]}, " for particles or ", {"type": "code", "text": ["1"]}, " for volumes."], "extent": [3743, 3840]}], "container": true, "attrs": {"type": "integer"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["slicedivs"]}], "role": "item", "extent": [3840, 3855], "body": [{"type": "para", "indent": 4, "text": ["When using volume slices, this attribute is set to the x, y, and z slice\n    divisions."], "extent": [3876, 3969]}], "container": true, "attrs": {"type": "integer3"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["tileindex"]}], "role": "item", "extent": [3969, 3984], "body": [{"type": "para", "indent": 4, "text": ["When using the ", {"type": "ui", "text": ["ROP Fetch"]}, " node to cook a tiled Mantra render, this value is set\n    to the render tile index associated with the work item."], "extent": [4004, 4152]}], "container": true, "attrs": {"type": "integer"}}, {"ext": null, "type": "top_attributes_item", "indent": 0, "text": [{"type": "code", "text": ["ifdoutput"]}], "role": "item", "extent": [4152, 4167], "body": [{"type": "para", "indent": 4, "text": ["When using the ", {"type": "ui", "text": ["ROP Fetch"]}, " node to generate an IFD instead of render a scene, this will be set to the value of ", {"type": "ui", "text": ["Output Picture"]}, ", which is the path to the image file that will be written when the IFD is rendered with Mantra."], "extent": [4184, 4417]}], "container": true, "attrs": {"type": "file"}}], "container": true, "role": "item_group"}], "text": "Top_attributes"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [4417, 4429], "body": [{"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["ROP Fetch"], "extent": [4429, 4446], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Generate When"], "extent": [16, 31], "body": [{"type": "para", "indent": 4, "text": ["Determines when this node will generate work items. You should generally leave this set to ", {"type": "q", "text": ["Automatic"]}, " unless you know the node requires a specific generation mode, or that the work items need to be generated dynamically."], "extent": [64, 291]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["All Upstream Items are Generated"], "extent": [291, 329], "body": [{"type": "para", "indent": 11, "text": ["This node will generate work items once all of the input nodes have generated their work items."], "extent": [329, 437]}], "container": true}, {"type": "dt", "indent": 4, "text": ["All Upstream Items are Cooked"], "extent": [437, 472], "body": [{"type": "para", "indent": 11, "text": ["This node will generate work items once all of the input nodes have cooked their work items."], "extent": [472, 577]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Each Upstream Item is Cooked"], "extent": [577, 611], "body": [{"type": "para", "indent": 11, "text": ["This node will generate work items each time a work item in an input node is cooked."], "extent": [611, 708]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Automatic"], "extent": [708, 723], "body": [{"type": "para", "indent": 11, "text": ["The generation mode is selected based on the generation mode of the input nodes. If any of the input nodes are generating work items when their inputs cook, this node will be set to ", {"type": "ui", "text": ["Each Upstream Item is Cooked"]}, ". Otherwise, it will be set to ", {"type": "ui", "text": ["All Upstream Items are Generated"]}, "."], "extent": [723, 1018]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pdg_workitemgeneration"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cache Mode"], "extent": [1270, 1282], "body": [{"type": "para", "indent": 4, "text": ["Determines how the processor node handles work items that report expected file results."], "extent": [1306, 1399]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Automatic"], "extent": [1399, 1414], "body": [{"type": "para", "indent": 8, "text": ["If the expected result file exists on disk, the work item is marked as\n        cooked without being scheduled. If the file ", {"type": "em", "text": ["does not"]}, " exist on disk, the work item is scheduled as normal. If upstream work item dependencies write out new\n        files during a cook, the cache files on work items in this node will\n        also be marked as out-of-date."], "extent": [1414, 1775]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Automatic (Ignore Upstream)"], "extent": [1775, 1808], "body": [{"type": "para", "indent": 8, "text": ["The same as ", {"type": "ui", "text": ["Automatic"]}, ", except upstream file writes ", {"type": "em", "text": ["do not"]}, " invalidate\n        cache files on work items in this node and this node will only check output files for its own work items."], "extent": [1808, 2006]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Read Files"], "extent": [2006, 2022], "body": [{"type": "para", "indent": 8, "text": ["If the expected result file exists on disk, the work item is marked as cooked without being scheduled. Otherwise the work item is marked as failed."], "extent": [2022, 2179]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Write Files"], "extent": [2179, 2196], "body": [{"type": "para", "indent": 8, "text": ["Work items are always scheduled and the expected result file is ignored even if it exists on disk."], "extent": [2196, 2304]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pdg_cachemode"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "extent": [4540, 4544]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["ROP Cook Order"], "extent": [4544, 4561], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["ROP Path"]}, " points to a chain of ROPs or a ROP network, this parameter determines how the ROP nodes should be cooked. This parameter only affects cooking when the ", {"type": "ui", "text": ["ROP Fetch TOP"]}, " is configured to use batching or a single work item for all frames."], "extent": [4580, 4844]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Frame by Frame"], "extent": [4844, 4864], "body": [{"type": "para", "indent": 8, "text": ["The entire ROP chain is cooked for the current frame before moving onto the next frame in the sequence. "], "extent": [4864, 4982]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Node by Node"], "extent": [4982, 5000], "body": [{"type": "para", "indent": 8, "text": ["Each ROP node in the chain is cooked for the entire frame range, one ROP at a time."], "extent": [5000, 5093]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "roporder"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["ROP Path"], "extent": [5093, 5103], "body": [{"type": "para", "indent": 4, "text": ["The path to the ROP node or network that is cooked by this TOP node."], "extent": [5121, 5195]}, {"type": "tip_group", "body": [{"type": "tip", "indent": 4, "role": "item", "extent": [5195, 5204], "body": [{"type": "para", "indent": 8, "text": ["When cooking as a batch, the target ROP should have the ", {"type": "code", "text": ["preframe"]}, " and ", {"type": "code", "text": ["postframe"]}, " callback parms."], "extent": [5204, 5312]}], "container": true}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "roppath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Execute Parm Name"], "extent": [5312, 5331], "body": [{"type": "para", "indent": 4, "text": ["When on, specifies the name of the button parameter on the ", {"scheme": null, "value": "#roppath", "type": "link", "text": ["ROP Path"], "fullpath": "/nodes/top/ropfetch#roppath", "fragment": "#roppath"}, " that triggers a cook of that node. If this parameter is not specified, then the ", {"type": "ui", "text": ["ROP Fetch TOP"]}, " will first try to use the ", {"type": "code", "text": ["render"]}, " method on the ROP, and then fallback to pressing the button if the target ROP node has no render method. By default, the button name is ", {"type": "code", "text": ["execute"]}, "."], "extent": [5354, 5718]}], "container": true, "attrs": {"id": "custombutton"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reload Parm Path"], "extent": [5718, 5736], "body": [{"type": "para", "indent": 4, "text": ["When on, specifies the path to a parameter that should be be pressed before each frame cooks. This can be useful when cooking a ROP that references nodes that need to manually reload external resources with a Reload button."], "extent": [5757, 5986]}], "container": true, "attrs": {"id": "reloadpath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Source Node Path"], "extent": [5986, 6004], "body": [{"type": "para", "indent": 4, "text": ["When on, specifies the path to the underlying node or network that the ", {"scheme": null, "value": "#roppath", "type": "link", "text": ["ROP Path"], "fullpath": "/nodes/top/ropfetch#roppath", "fragment": "#roppath"}, " will use when the ROP evaluates. This creates a dependency between that node and this TOP node, so that this TOP node is correctly marked as dirty when the source node changes. "], "extent": [6021, 6295]}, {"type": "para", "indent": 4, "text": ["For example, if you're using this ROP Fetch node to cook a Geometry ROP, then you would set the value of this parameter to the SOP network associated with your Geometry ROP."], "extent": [6295, 6478]}, {"type": "para", "indent": 4, "text": ["If this parameter is ", {"type": "em", "text": ["not"]}, " set, then no dependency is created. Likewise, if ", {"type": "ui", "text": ["External HIP File"]}, " is ", {"type": "em", "text": ["on"]}, ", this parameter is ", {"type": "em", "text": ["not"]}, " used since the ROP being cooked is in a different ", {"type": "code", "text": [".hip"]}, " file."], "extent": [6478, 6677]}], "container": true, "attrs": {"id": "oppath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["External HIP File"], "extent": [6677, 6696], "body": [{"type": "para", "indent": 4, "text": ["When on, specifies the path to the ", {"type": "code", "text": [".hip"]}, " file that contains the ROP node."], "extent": [6718, 6798]}, {"type": "para", "indent": 4, "text": ["This is most commonly used when generating a ", {"type": "code", "text": [".hip"]}, " file procedurally as part of an earlier step in the TOP network."], "extent": [6798, 6920]}, {"type": "para", "indent": 4, "text": ["When selecting a ROP in the current file, it is ", {"type": "em", "text": ["not"]}, " necessary to specify this parameter."], "extent": [6920, 7016]}], "container": true, "attrs": {"id": "externalhip"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reset $HIP On Cook"], "extent": [7016, 7036], "body": [{"type": "para", "indent": 4, "text": ["When on, sets the ", {"type": "code", "text": ["$HIP"]}, " variable in the job to the value of the ", {"type": "code", "text": ["$HIP"]}, " on the submitting machine.  This can be used to keep ", {"type": "code", "text": ["$HIP"]}, "-based file references in the scene file valid when it is copied to the scheduler working directory at the start of the PDG cook.  The original ", {"type": "code", "text": [".hip"]}, " file can then be safely modified while the cook proceeds."], "extent": [7055, 7400]}], "container": true, "attrs": {"id": "resethip"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Ignore Scene Load Errors"], "extent": [7400, 7426], "body": [{"type": "para", "indent": 4, "text": ["When this parameter is enabled, work items ignore any errors that occur when loading the .hip file. This can be useful when the scene has a load error that does not interfere with the nodes involved in cooking the ", {"type": "ui", "text": ["ROP Path"]}, "."], "extent": [7449, 7682]}], "container": true, "attrs": {"id": "ignoreerrors"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Output Paths From"], "extent": [7682, 7701], "body": [{"type": "para", "indent": 4, "text": ["Determines how PDG should detect output file cache paths for work items on this node."], "extent": [7723, 7814]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["ROP Node Parameters"], "extent": [7814, 7839], "body": [{"type": "para", "indent": 8, "text": ["PDG uses the output path(s) from the ROP node specified using the using the ", {"type": "ui", "text": ["ROP Path"]}, " parameter."], "extent": [7839, 7948]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Custom Path List"], "extent": [7948, 7970], "body": [{"type": "para", "indent": 8, "text": ["PDG uses the list of custom output file paths specified by the ", {"type": "ui", "text": ["Output Paths"]}, " and ", {"type": "ui", "text": ["Output Files"]}, " parameters."], "extent": [7970, 8092]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "outputsfrom"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Output File Tag"], "extent": [8092, 8109], "body": [{"type": "para", "indent": 4, "text": ["Specifies a custom file tag for the output files. By default, the ", {"type": "ui", "text": ["ROP Fetch"]}, " node tags output files based on their file extensions. You can use this parameter to ", {"type": "em", "text": ["override"]}, " that behavior."], "extent": [8127, 8323]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Output Paths From"]}, " is set to ", {"type": "ui", "text": ["ROP Node Parameters"]}, "."], "extent": [8323, 8423]}], "container": true, "attrs": {"id": "filetag"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Output Parm Name"], "extent": [8423, 8441], "body": [{"type": "para", "indent": 4, "text": ["Specifies the name of the output file parameter on the target ROP node. By default, for standard ROP nodes shipped with Houdini, PDG is able to automatically determine the output name based on the type of ROP. When using a custom ROP or a ROP that PDG fails to detect automatically, this parameter should be set to the string name of the output parameter on the ROP specified in the ", {"type": "ui", "text": ["ROP Path"]}, " field. If the output parameter is in a multiparm, you can specify the multiparm like ", {"type": "code", "text": ["outputfile#"]}, ". You can also set the parameter to a space-separated list of output parm names."], "extent": [8464, 9044]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Output Paths From"]}, " is set to ", {"type": "ui", "text": ["ROP Node Parameters"]}, "."], "extent": [9044, 9144]}], "container": true, "attrs": {"id": "customoutput"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Output Paths"], "extent": [9144, 9158], "body": [{"type": "para", "indent": 4, "text": ["Determines the number of custom output files."], "extent": [9180, 9231]}, {"type": "para", "indent": 4, "text": ["This parameter is only when ", {"type": "ui", "text": ["Output Paths From"]}, " is set to ", {"type": "ui", "text": ["Custom Path List"]}, "."], "extent": [9231, 9318]}], "container": true, "attrs": {"id": "outputpaths"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Output File"], "extent": [9318, 9331], "body": [{"type": "para", "indent": 4, "text": ["Specifies the path to a custom output file. This file is added as an ", {"type": "em", "text": ["expected output"]}, " to all the work items on this node. The file path can be an expression or contain work item attribute references."], "extent": [9356, 9562]}, {"type": "para", "indent": 4, "text": ["This parameter is only when ", {"type": "ui", "text": ["Output Paths From"]}, " is set to ", {"type": "ui", "text": ["Custom Path List"]}, "."], "extent": [9562, 9649]}], "container": true, "attrs": {"id": "outputfilepath"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "extent": [9649, 9653]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Evaluate Using"], "extent": [2666, 2682], "body": [{"type": "para", "indent": 4, "text": ["Determines how the TOP node creates and executes work items."], "extent": [2708, 2774]}, {"type": "para", "indent": 4, "text": ["When using the ", {"type": "ui", "text": ["Single Frame"]}, " option, the node creates one work item for each upstream\n    frame. When using the ", {"type": "ui", "text": ["Frame Range"]}, " option, the node creates one work item per frame\n    in the range for each upstream work item. When using the ", {"type": "ui", "text": ["ROP Node Configuration"]}, " option, PDG cooks the ROP without passing any frame range options and uses whatever configuration is set on the target ROP. When using the ", {"type": "ui", "text": ["Automatic"]}, " option, the node automatically configures the node based on whether or not it has any inputs."], "extent": [2774, 3294]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Single Frame"], "extent": [3294, 3312], "body": [{"type": "para", "indent": 11, "text": ["The node creates a single work item per upstream item and sets the new work item\u2019s frame to match the upstream item\u2019s frame. If there are no input nodes, then the node creates a single work item set to frame 1. You can override the single frame value with the ", {"type": "ui", "text": ["Override Frame"]}, " parameter."], "extent": [3312, 3614]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Frame Range"], "extent": [3614, 3631], "body": [{"type": "para", "indent": 11, "text": ["For each upstream work item, the node creates the full frame range of work items. If there are no upstream items, the node creates one set of items for the specified frame range."], "extent": [3631, 3822]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Automatic"], "extent": [3822, 3837], "body": [{"type": "para", "indent": 8, "text": ["If the node has inputs, it generates one frame of work for each input. If the node does not have any inputs, it generates work items for the node\u2019s full frame range."], "extent": [3837, 4012]}], "container": true}, {"type": "dt", "indent": 4, "text": ["ROP Node Configuration"], "extent": [4012, 4040], "body": [{"type": "para", "indent": 11, "text": ["For each upstream work item, the node creates a single work item that cooks the ", {"type": "ui", "text": ["ROP Path"]}, " and PDG does ", {"type": "em", "text": ["not"]}, " pass any frame range settings to the ROP node. The number of frames to cook is determined by the parameters on the ROP itself."], "extent": [4040, 4291]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "framegeneration"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Override Frame"], "extent": [4291, 4307], "body": [{"type": "para", "indent": 4, "text": ["When this parameter is enabled, it overrides the frame used with the ", {"type": "ui", "text": ["Single Frame"]}, " Evaluation mode."], "extent": [4331, 4439]}], "container": true, "attrs": {"id": "frameoverride"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frame Range"], "extent": [4439, 4452], "body": [{"type": "para", "indent": 4, "text": ["The frame start, end and step size to use when ", {"type": "ui", "text": ["Frame Generation"]}, " is set to ", {"type": "ui", "text": ["Frame Range"]}, "."], "extent": [4468, 4568]}], "container": true, "attrs": {"id": "range"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cook Frames as Single Work Item"], "extent": [9774, 9807], "body": [{"type": "para", "indent": 4, "text": ["Groups the work for all frames into a single work item."], "extent": [9828, 9889]}, {"type": "para", "indent": 4, "text": ["This is most commonly used when cooking a ROP that produces an FBX, Alembic, or USD file which contains multiple frames of data in the same file."], "extent": [9889, 10040]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Evaluate Using"]}, " is set to ", {"type": "ui", "text": ["Frame Range"]}, "."], "extent": [10040, 10129]}], "container": true, "attrs": {"id": "singletask"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Expand Input Files Across Frame Range"], "extent": [10129, 10168], "body": [{"type": "para", "indent": 4, "text": ["Spreads the input file list across the frame range."], "extent": [10191, 10248]}, {"type": "para", "indent": 4, "text": ["For example, if the upstream work item has 100 output files and the frame range on this node is set to 1 to 50, then each work item in this node will have 2 input files. The first work item will have file 1 and file 2, the second work item will have file 3 and file 4, and so on."], "extent": [10248, 10533]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Evaluate Using"]}, " is set to ", {"type": "ui", "text": ["Frame Range"]}, "."], "extent": [10533, 10622]}], "container": true, "attrs": {"id": "expandinputs"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "extent": [10622, 10626]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["All Frames in One Batch"], "extent": [4568, 4593], "body": [{"type": "para", "indent": 4, "text": ["When on, work items from the same frame range are grouped into a batch that is scheduled as a single job. This is used for simulations where each frame depends on the previous frame, and it is advantageous to keep everything in memory."], "extent": [4612, 4853]}], "container": true, "attrs": {"id": "batchall"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Frames per Batch"], "extent": [4853, 4871], "body": [{"type": "para", "indent": 4, "text": ["By default, when this parameter is at 1 each work item is cooked as a \n    separate job. When this parameter is set to a value greater than 1, work\n    items are grouped into batches."], "extent": [4896, 5085]}], "container": true, "attrs": {"id": "framesperbatch"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cook Batch When"], "extent": [10707, 10724], "body": [{"type": "para", "indent": 4, "text": ["Determines when batches of frames are scheduled."], "extent": [10743, 10797]}, {"type": "para", "indent": 4, "text": ["By default, the batch is scheduled once the dependencies for all frames are cooked. However, it is possible to schedule the batch as soon as its first frame can run."], "extent": [10797, 10968]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["All Frames are Ready"], "extent": [10968, 10994], "body": [{"type": "para", "indent": 11, "text": ["The batch is scheduled only when all dependencies on all frames in the batch are satisfied."], "extent": [10994, 11098]}], "container": true}, {"type": "dt", "indent": 4, "text": ["First Frame is Ready"], "extent": [11098, 11124], "body": [{"type": "para", "indent": 11, "text": ["The batch is scheduled as soon as its first frame is ready."], "extent": [11124, 11196]}, {"type": "para", "indent": 7, "text": ["This is possible because the ROP wrapper script used by PDG ensures that subsequent frames correctly wait for their dependencies. This is done by communicating back to PDG as the job is running to check the status of the dependencies before each frame. This incurs slightly more network overhead, and requires ongoing communication between the job and PDG."], "extent": [11196, 11561]}, {"type": "para", "indent": 7, "text": ["This option is ", {"type": "em", "text": ["not"]}, " available when cooking a ", {"scheme": "Icon", "value": "NETWORKS/cop2.svg", "type": "link", "text": "", "fullpath": "/nodes/top/NETWORKS/cop2.svg"}, " ", {"scheme": "Node", "value": "/nodes/out/comp", "type": "link", "text": ["Composite ROP"], "fullpath": "/nodes/out/comp"}, " node since COP file nodes must be able to load their entire input file sequence on the first frame."], "extent": [11561, 11770]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "cookwhen"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Automatically Set Missing Frames"], "extent": [11770, 11804], "body": [{"type": "para", "indent": 4, "text": ["When on, the node will attempt to assign a ", {"type": "code", "text": ["frame"]}, " and ", {"type": "code", "text": ["range"]}, " value to work items that are missing those values. It determines the range based on the number of input work items, and sets the frame based on the work item\u2019s position in the input list. If only ", {"type": "em", "text": ["some"]}, " of the input work items are missing a frame, the behavior may be inconsistent."], "extent": [11824, 12174]}], "container": true, "attrs": {"id": "setframes"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Resume Partially Cached Batches"], "extent": [12174, 12207], "body": [{"type": "para", "indent": 4, "text": ["Determines whether or not batches produced by this node should resume cooking from partially cached output files. You should only enable this option for simulations if the DOP network itself is already configured to write sim cache files."], "extent": [12229, 12473]}], "container": true, "attrs": {"id": "resumebatch"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 3, "type": "sep", "indent": 0, "text": [" Distribution "], "extent": [12473, 12494], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Distributed Sim"], "extent": [12494, 12516], "body": [{"type": "para", "indent": 8, "text": ["When on, the node treats the target ROP as part of a distributed simulation. This enables the parameters for configuring a distributed sim, and disables the frame generation parameters."], "extent": [12542, 12737]}], "container": true, "attrs": {"id": "distributed"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Control DOP"], "extent": [12737, 12754], "body": [{"type": "para", "indent": 8, "text": ["The control DOP for the distributed sim."], "extent": [12776, 12826]}], "container": true, "attrs": {"id": "control"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Custom Tracker Port"], "extent": [12826, 12851], "body": [{"type": "para", "indent": 8, "text": ["When this parameter is enabled, the specified port is used for the sim tracker that transmits slice information between jobs. Otherwise, if this parameter is disabled, PDG will automatically use an available port."], "extent": [12877, 13100]}], "container": true, "attrs": {"id": "trackerport"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Web Port"], "extent": [13100, 13114], "body": [{"type": "para", "indent": 8, "text": ["When this parameter is enabled, the specified port is used to host the web page for monitor distributed sim status. Otherwise, if this parameter is disabled, PDG will automatically use an available port."], "extent": [13136, 13349]}], "container": true, "attrs": {"id": "webport"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Slice Type"], "extent": [13349, 13365], "body": [{"type": "para", "indent": 8, "text": ["The type of slicing used for the distributed sim."], "extent": [13389, 13448]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Particles"], "extent": [13448, 13467], "body": [{"type": "para", "indent": 15, "text": ["Use the particle slicing method for the distributed sim."], "extent": [13467, 13540]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Volumes"], "extent": [13540, 13557], "body": [{"type": "para", "indent": 15, "text": ["Use the volume slicing method for the distributed sim."], "extent": [13557, 13628]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "slicetype"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Slice Count"], "extent": [13628, 13645], "body": [{"type": "para", "indent": 8, "text": ["Specifies the number of slices for the distributed sim."], "extent": [13670, 13735]}, {"type": "para", "indent": 8, "text": ["This parameter setting is only available when ", {"type": "ui", "text": ["Slice Type"]}, " is set to ", {"type": "ui", "text": ["Particles"]}, "."], "extent": [13735, 13830]}], "container": true, "attrs": {"id": "slicecount"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Slice Divisions"], "extent": [13830, 13851], "body": [{"type": "para", "indent": 8, "text": ["Determines the x, y, and z volume divisions for the distributed sim."], "extent": [13875, 13953]}, {"type": "para", "indent": 8, "text": ["This parameter setting is only available when ", {"type": "ui", "text": ["Slice Type"]}, " is set to ", {"type": "ui", "text": ["Volumes"]}, "."], "extent": [13953, 14046]}], "container": true, "attrs": {"id": "slicedivs"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Debugging and Performance "], "extent": [14046, 14080], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Enable Performance Monitor Logging"], "extent": [14107, 14147], "body": [{"type": "para", "indent": 8, "text": ["When on, the Performance Monitor is enabled when cooking the ROP. The Performance Monitor prints performance information to the work item log."], "extent": [14175, 14327]}], "container": true, "attrs": {"id": "enableperfmon"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Performance File"], "extent": [14327, 14349], "body": [{"type": "para", "indent": 8, "text": ["When on, this parameter determines where the performance monitor output is saved to on disk. When off, the output is written to the work item\u2019s output log instead."], "extent": [14372, 14545]}, {"type": "para", "indent": 8, "text": ["If the specified file ends with a ", {"type": "code", "text": [".csv"]}, " extension, then it is exported as the CSV format. If the specified file is any other file type, then the file is saved using the Houdini performance monitor output syntax. A file in that format can be imported back into the ", {"scheme": null, "value": "/ref/panes/perfmon", "type": "link", "text": ["Performance Monitor pane"], "fullpath": "/ref/panes/perfmon"}, " tab for viewing."], "extent": [14545, 14882]}, {"type": "para", "indent": 8, "text": ["One file is written out for each process that performs a ROP cook. For example, if batching is enabled, then a single ", {"type": "code", "text": [".hperf "]}, " file is written out for each batch process. If every frame is cooked in a separate process, then one performance file is written out for each frame."], "extent": [14882, 15168]}, {"type": "para", "indent": 8, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Enable Performance Monitor Logging"]}, " is ", {"type": "em", "text": ["on"]}, ". "], "extent": [15168, 15264]}], "container": true, "attrs": {"id": "perffile"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Save Debug .hip File"], "extent": [15264, 15290], "body": [{"type": "para", "indent": 8, "text": ["When on, the state of the ", {"type": "code", "text": [".hip"]}, " file containing the ROP node is saved to the specified path after the cook has completed. This includes all wedge parameter and environment changes, or scene state modified by cooking the network. If the cook fails due to an error in the ROP evaluation, then the ", {"type": "code", "text": [".hip"]}, " file is still saved."], "extent": [15313, 15646]}], "container": true, "attrs": {"id": "debughip"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Report Debug Files as Outputs"], "extent": [15646, 15681], "body": [{"type": "para", "indent": 8, "text": ["When on, if the generation of the performance monitor output file (", {"type": "ui", "text": ["Performance File"]}, ") or debug ", {"type": "code", "text": [".hip"]}, " file (", {"type": "ui", "text": ["Save Debig .hip File"]}, ") is enabled, then they are reported (attached) as work item outputs. This provides easier access to the files."], "extent": [15708, 15965]}], "container": true, "attrs": {"id": "debugoutputs"}, "role": "item"}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "debuggingandperf"}}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Service"], "extent": [15965, 15979], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Use ROP Fetch Service"], "extent": [15979, 16003], "body": [{"type": "para", "indent": 4, "text": ["When on, ", {"type": "ui", "text": ["ROP Fetch"]}, " cooks using the ROP Fetch service."], "extent": [16030, 16093]}, {"type": "para", "indent": 4, "text": ["This parameter requires an active ROP Fetch service to be available. For more information on using services, see the ", {"scheme": null, "value": "/tops/services", "type": "link", "text": ["PDG Service Manager"], "fullpath": "/tops/services"}, " documentation."], "extent": [16093, 16267]}, {"type": "para", "indent": 4, "text": ["If the node is unable to connect to the service, ", {"type": "ui", "text": ["ROP Fetch"]}, " will cook in regular mode and add a warning to the node."], "extent": [16267, 16392]}], "container": true, "attrs": {"id": "enablepdgservice"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Service Name"], "extent": [16392, 16406], "body": [{"type": "para", "indent": 4, "text": ["This parameter specifies the name of the ROP Fetch service to use."], "extent": [16431, 16503]}], "container": true, "attrs": {"id": "pdgservicename"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Schedulers"], "extent": [16503, 16520], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["TOP Scheduler Override"], "extent": [5085, 5109], "body": [{"type": "para", "indent": 4, "text": ["This parameter overrides the TOP scheduler for this node."], "extent": [5132, 5195]}], "container": true, "attrs": {"id": "topscheduler"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Work Item Label"], "extent": [8066, 8083], "body": [{"type": "para", "indent": 4, "text": ["Determines how the node should label its work items. This parameter allows you to assign non-unique label strings to your work items which are then used to identify the work items in the attribute panel, task bar, and scheduler job names."], "extent": [8111, 8355]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["No Label"], "extent": [8355, 8370], "body": [{"type": "para", "indent": 8, "text": ["The work items on this node do not have a label."], "extent": [8370, 8428]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Inherit From Upstream Item"], "extent": [8428, 8461], "body": [{"type": "para", "indent": 8, "text": ["The work items inherit their labels from their parent work items.        "], "extent": [8461, 8544]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Custom Expression"], "extent": [8544, 8568], "body": [{"type": "para", "indent": 8, "text": ["The work item label is set to the ", {"type": "ui", "text": ["Label Expression"]}, " custom expression which is evaluated for each item."], "extent": [8568, 8684]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Node Defines Label"], "extent": [8684, 8709], "body": [{"type": "para", "indent": 8, "text": ["The work item label is defined in the node\u2019s internal logic."], "extent": [8709, 8779]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pdg_workitemlabel"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Label Expression"], "extent": [8779, 8797], "body": [{"type": "para", "indent": 4, "text": ["When on, this parameter specifies a custom label for work items created by this node. The parameter can be an expression that includes references to work item attributes or built-in properties. For example, ", {"type": "code", "text": ["$OS: @pdg_frame"]}, " will set the label of each work item based on its frame value."], "extent": [8829, 9121]}], "container": true, "attrs": {"id": "pdg_workitemlabelexpr"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Work Item Priority"], "extent": [6087, 6107], "body": [{"type": "para", "indent": 4, "text": ["This parameter determines how the current scheduler prioritizes the work items in this node."], "extent": [6138, 6236]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Inherit From Upstream Item"], "extent": [6236, 6269], "body": [{"type": "para", "indent": 11, "text": ["The work items inherit their priority from their parent items. If a work item has no parent, its priority is set to 0."], "extent": [6269, 6400]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Custom Expression"], "extent": [6400, 6424], "body": [{"type": "para", "indent": 11, "text": ["The work item priority is set to the value of ", {"type": "ui", "text": ["Priority Expression"]}, "."], "extent": [6424, 6507]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Node Defines Priority"], "extent": [6507, 6535], "body": [{"type": "para", "indent": 7, "text": ["The work item priority is set based on the node\u2019s own internal priority calculations."], "extent": [6535, 6640]}, {"type": "para", "indent": 7, "text": ["This option is only available on the ", {"scheme": "Icon", "value": "MISC/python.svg", "type": "link", "text": "", "fullpath": "/nodes/top/MISC/python.svg"}, " ", {"scheme": "Node", "value": "/nodes/top/pythonprocessor", "type": "link", "text": ["Python Processor TOP"], "fullpath": "/nodes/top/pythonprocessor"}, ", ", {"scheme": "Icon", "value": "TOP/ropfetch.svg", "type": "link", "text": "", "fullpath": "/nodes/top/TOP/ropfetch.svg"}, " ", {"scheme": "Node", "value": "/nodes/top/ropfetch", "type": "link", "text": ["ROP Fetch TOP"], "fullpath": "/nodes/top/ropfetch"}, ", and ROP Output TOP nodes. These nodes define their own prioritization schemes that are implemented in their node logic."], "extent": [6640, 6936]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "pdg_workitempriority"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Priority Expression"], "extent": [6936, 6957], "body": [{"type": "para", "indent": 4, "text": ["This parameter specifies an expression for work item priority. The expression is evaluated for each work item in the node."], "extent": [6992, 7120]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when ", {"type": "ui", "text": ["Work Item Priority"]}, " is set to ", {"type": "ui", "text": ["Custom Expression"]}, "."], "extent": [7120, 7219]}], "container": true, "attrs": {"id": "pdg_workitempriorityexpr"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["External Files"], "extent": [16760, 16781], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["File Dependencies"], "extent": [2304, 2323], "body": [{"type": "para", "indent": 4, "text": ["A list of files that should be copied to the PDG working directory before the first work item in this node is executed.  This can be used to ensure that supporting files like digital assets and custom scripts are available for the work item job."], "extent": [2345, 2596]}, {"type": "para", "indent": 4, "text": ["The specified paths can be absolute or relative to HOUDINI_PATH."], "extent": [2596, 2666]}], "container": true, "attrs": {"id": "pdgnodedeps"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [16822, 16831], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/top/hdaprocessor", "type": "link", "text": "", "fullpath": "/nodes/top/hdaprocessor"}], "extent": [16831, 16857]}], "container": true}], "text": "Related"}], "title": ["ROP Fetch"], "summary": ["Creates work items that cook a ROP node or network."], "included": ["/nodes/top/processor_common"]}