{"type": "root", "attrs": {"type": "node", "context": "dop", "internal": "vellumrestblend", "icon": "DOP/vellumrestblend", "tags": "vellum", "since": "17.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Vellum Rest Blend"], "extent": [117, 139]}, {"type": "summary", "indent": 0, "text": ["Blends the current rest values of constraints with a rest state calculated from the current simulation or external geometry."], "extent": [139, 272]}, {"type": "para", "indent": 0, "text": ["The Vellum Rest Blend DOP allows mixing the current rest values of constraints, including rest length and rest angles, with a rest state calculated from the current simulation or external geometry.  When the rest source is the current simulation geometry, this DOP provides an effect similar to controlled plasticity.  Using external geometry, you can achieve other effects such as purposefully stretching or putting bends into cloth or hair, or inflating an object over time."], "extent": [272, 750]}, {"type": "para", "indent": 0, "text": ["If this DOP is used inline with a ", {"scheme": "Node", "value": "/nodes/dop/vellumsource", "type": "link", "text": ["Vellum Source"], "fullpath": "/nodes/dop/vellumsource"}, " DOP, the blending will only apply to points in the ", {"scheme": null, "value": "/dopparticles/streams", "type": "link", "text": ["stream"], "fullpath": "/dopparticles/streams"}, " created by that node.  In this way you can use separate external rest geometry for each Vellum patch sourced."], "extent": [750, 1015]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [1015, 1027], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Activation"], "extent": [1027, 1040], "body": [{"type": "para", "indent": 4, "text": ["Controls if the microsolver is solved at all."], "extent": [1059, 1110]}], "container": true, "attrs": {"id": "activate"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Update Frequency"], "extent": [1110, 1128], "body": [{"type": "para", "indent": 4, "text": ["How frequently to blend rest states."], "extent": [1149, 1191]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Single Frame"], "extent": [1191, 1209], "body": [{"type": "para", "indent": 8, "text": ["Blend the rest states only on the specified ", {"type": "ui", "text": ["Frame"]}, "."], "extent": [1209, 1273]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Each Frame"], "extent": [1273, 1289], "body": [{"type": "para", "indent": 8, "text": ["Blend the rest states once every frame, but not more frequently."], "extent": [1289, 1363]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Each Substep"], "extent": [1363, 1381], "body": [{"type": "para", "indent": 8, "text": ["Blend the rest states every substep.  This has the greatest accuracy, but can slow the simulation."], "extent": [1381, 1490]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "updatemode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Creation Frame"], "extent": [1490, 1506], "body": [{"type": "para", "indent": 4, "text": ["Which frame to blend rest states when ", {"type": "ui", "text": ["Update Frequency"]}, " is set to ", {"type": "ui", "text": ["Single Frame"]}, "."], "extent": [1532, 1624]}], "container": true, "attrs": {"id": "activationframe"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [779, 787], "body": [{"type": "para", "indent": 4, "text": ["Specifies the point group in the geometry whose constraints should be blended with the external rest state.  NOTE: Any group specified here should also exist on the rest geometry."], "extent": [803, 988]}], "container": true, "attrs": {"id": "group"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Blend"], "extent": [1668, 1680], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Constraint Group"], "extent": [988, 1006], "body": [{"type": "para", "indent": 4, "text": ["Specifies the primitive group of constraints whose rest values should be blended with the external rest state."], "extent": [1025, 1141]}], "container": true, "attrs": {"id": "congroup"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Source"], "extent": [1732, 1744], "body": [{"type": "para", "indent": 8, "text": ["Specifies the source of the rest geometry from which to calculate the rest state for blending.   ", {"type": "ui", "text": ["Simulation Geometry"]}, " will use the current state of the simulation, which can be useful to control effects similar to plasticity, ", {"type": "q", "text": ["baking"]}, " the current simulation state into the constraints.  ", {"type": "ui", "text": ["SOP"]}, " specifies external geometry, which should have the same topology as the original input geometry."], "extent": [1769, 2173]}], "container": true, "attrs": {"id": "restsource"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mode"], "extent": [1141, 1147], "body": [{"type": "para", "indent": 4, "text": ["Controls how the rest states are blended.  With a value of Blend, the states are blended together using a 0-1 values.  With a value of Distance, the current state can move a maximum of the specified Distance units towards the new rest state, e.g. a maximum of 5 degrees for a bend constraint."], "extent": [1167, 1465]}], "container": true, "attrs": {"id": "blendmode"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Blend"], "extent": [1465, 1472], "body": [{"type": "para", "indent": 4, "text": ["In Blend mode, specifies how much of the current rest state and external rest state should be blended together.  With a value of 0, the constraints' rest values will not be modified; with a value of 1, the constraints' rest values will be updated to exactly match the external geometry state."], "extent": [1488, 1786]}], "container": true, "attrs": {"id": "blend"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Distance"], "extent": [1786, 1796], "body": [{"type": "para", "indent": 4, "text": ["In Distance mode, specifies how far the constraints' current rest state can be modified towards the external rest state.  This is specified in the units of the constraint, so generally should be specified for only one constraint type at a time using the ", {"type": "ui", "text": ["Constraint Group"]}, ".  For Stretch constraints this value is specified in length units (typically meters); for Bend constraints it is in degrees."], "extent": [1815, 2220]}], "container": true, "attrs": {"id": "distance"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Use Timestep"], "extent": [15, 29], "body": [{"type": "para", "indent": 4, "text": ["Determines if the current solver timestep will be used to apply\n    this node.  "], "extent": [29, 119]}, {"type": "para", "indent": 4, "text": ["If set, the current timestep size will be multiplied\n    by the scale and used for the time increment for this operation.\n    Otherwise, the time scale will specify an absolute fictitious time\n    to integrate by."], "extent": [119, 338]}, {"type": "para", "indent": 4, "text": ["By disabling the link between the actual real time and the\n    microsolver time, you can perform operations in a separate,\n    fictitious, time."], "extent": [338, 487]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Time Scale"], "extent": [487, 499], "body": [{"type": "para", "indent": 4, "text": ["The timestep used for this microsolver will be scaled by this\n    amount.  This allows one to achieve non-realistic effects, such as\n    parts of the simulation operating at different speeds than other\n    parts.  "], "extent": [499, 723]}, {"type": "para", "indent": 4, "text": ["Similarly, it is useful if a solver needs to be evaluated\n    independently of the main timestep."], "extent": [723, 825]}], "container": true, "role": "item"}], "container": true}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [2355, 2364], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/vellumsolver", "type": "link", "text": "", "fullpath": "/nodes/dop/vellumsolver"}], "extent": [2364, 2394]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/vellumsource", "type": "link", "text": "", "fullpath": "/nodes/dop/vellumsource"}], "extent": [2394, 2424]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/dop/vellumconstraints", "type": "link", "text": "", "fullpath": "/nodes/dop/vellumconstraints"}], "extent": [2424, 2459]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/vellumrestblend", "type": "link", "text": "", "fullpath": "/nodes/sop/vellumrestblend"}], "extent": [2459, 2493]}], "container": true}], "text": "Related"}], "title": ["Vellum Rest Blend"], "summary": ["Blends the current rest values of constraints with a rest state calculated from the current simulation or external geometry."], "included": ["/nodes/dop/standard_gas_timestep", "/nodes/sop/vellumrestblend"]}