{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "agentdefinitioncache", "icon": "SOP/agentdefinitioncache", "since": "17.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Agent Definition Cache"], "extent": [0, 27]}, {"type": "summary", "indent": 0, "text": ["Writes agent definition files to disk."], "extent": [132, 178]}, {"type": "para", "indent": 0, "text": ["This SOP combines an Agent ROP and Agent SOP to provide a simple way to write out an agent primitive\u2019s definition to disk.\nThis can be useful at the end of a SOP chain that initializes an agent (for example, using the ", {"scheme": "Node", "value": "/nodes//sop/agentclip", "type": "link", "text": ["Agent Clip SOP"], "fullpath": "/nodes//sop/agentclip"}, " and ", {"scheme": "Node", "value": "/nodes//sop/agentlayer", "type": "link", "text": ["Agent Layer SOP"], "fullpath": "/nodes//sop/agentlayer"}, ")."], "extent": [178, 479]}, {"type": "para", "indent": 0, "text": ["The ", {"scheme": null, "value": "/crowds/caches", "type": "link", "text": ["Caches"], "fullpath": "/crowds/caches"}, " help page provides more information on when it may be advantageous to store the agent definition as separate files on disk."], "extent": [479, 632]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [632, 644], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Load from Disk"], "extent": [644, 661], "body": [{"type": "para", "indent": 4, "text": ["Switches between passing through the input agent and the agent loaded from the agent definition files on disk."], "extent": [661, 777]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Keep External References"], "extent": [11193, 11219], "body": [{"type": "para", "indent": 4, "text": ["Specifies whether the agent primitives should reference the agent\n    definition files on disk. If enabled, saving agents to a geometry file will\n    only store references to the agent definition files, instead of embedding\n    the agent definition in the ", {"type": "code", "text": [".bgeo"]}, " or ", {"type": "code", "text": [".geo"]}, " file (which produces a\n    self-contained, but larger, geometry file)."], "extent": [11244, 11594]}], "container": true, "attrs": {"id": "keepexternalref"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Reload"], "extent": [3265, 3273], "body": [{"type": "para", "indent": 4, "text": ["Reloads the agent definition."], "extent": [3289, 3324]}], "container": true, "attrs": {"id": "reload"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Agent Name"], "extent": [3035, 3047], "body": [{"type": "para", "indent": 4, "text": ["Name of the agent. The parameter is provided for convenience\n    so that it can be referenced via the ", {"type": "code", "text": ["$AGENT"]}, " local variable in other\n    parameter values."], "extent": [3066, 3228]}], "container": true, "attrs": {"id": "agentname"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Cache Directory"], "extent": [3228, 3245], "body": [{"type": "para", "indent": 4, "text": ["Parent directory of agent definition files. This parameter is\n    provided for convenience so that its value can be referenced via the\n    ", {"type": "code", "text": ["$CACHEDIR"]}, " local variable in the other filename parameters."], "extent": [3263, 3468]}], "container": true, "attrs": {"id": "cachedir"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Save to Disk"], "extent": [931, 945], "body": [{"type": "para", "indent": 4, "text": ["Writes the agent definition files to disk."], "extent": [945, 993]}], "container": true, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Create Intermediate Directories"], "extent": [6293, 6327], "body": [{"type": "para", "indent": 4, "text": ["Create intermediate parent directories for output files as needed. This currently only applies to generated scripts, images, and shadow maps."], "extent": [6353, 6500]}], "container": true, "attrs": {"id": "soho_mkpath"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Rig"], "extent": [3468, 3473], "body": [{"type": "para", "indent": 4, "text": ["Filename for the agent rig.\n    The ", {"scheme": null, "value": "/crowds/agents#rig", "type": "link", "text": ["rig file"], "fullpath": "/crowds/agents#rig", "fragment": "#rig"}, " is a JSON file describing the transform hierarchy of the agent."], "extent": [3486, 3621]}], "container": true, "attrs": {"id": "rig"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Agent Layers"], "extent": [3621, 3635], "body": [{"type": "para", "indent": 4, "text": ["Filename pattern for ", {"scheme": null, "value": "/crowds/agents#layer", "type": "link", "text": ["agent layer files"], "fullpath": "/crowds/agents#layer", "fragment": "#layer"}, ".\n    The ", {"type": "code", "text": ["${LAYER}"]}, " local variable can be used to the include the name of the layer in the filename."], "extent": [3651, 3819]}], "container": true, "attrs": {"id": "layers"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Shape Library"], "extent": [3819, 3834], "body": [{"type": "para", "indent": 4, "text": ["Filename for the ", {"scheme": null, "value": "/crowds/agents#shapelib", "type": "link", "text": ["agent shape library"], "fullpath": "/crowds/agents#shapelib", "fragment": "#shapelib"}, "."], "extent": [3852, 3921]}], "container": true, "attrs": {"id": "shapelib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Clips"], "extent": [3921, 3928], "body": [{"type": "para", "indent": 4, "text": ["Filename pattern for ", {"scheme": null, "value": "/crowds/agents#clip", "type": "link", "text": ["agent clip files"], "fullpath": "/crowds/agents#clip", "fragment": "#clip"}, ".\n    The ", {"type": "code", "text": ["${CLIP}"]}, " local variable can be used to the include the name of the clip in the filename."], "extent": [3943, 4107]}], "container": true, "attrs": {"id": "clips"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Transform Groups"], "extent": [4107, 4125], "body": [{"type": "para", "indent": 4, "text": ["Filename pattern for ", {"scheme": null, "value": "/crowds/agents#xformgroups", "type": "link", "text": ["agent transform group files"], "fullpath": "/crowds/agents#xformgroups", "fragment": "#xformgroups"}, ".\n    The ", {"type": "code", "text": ["${TRANSFORM_GROUP}"]}, " local variable can be used to include the name of the transform group in the filename."], "extent": [4150, 4350]}], "container": true, "attrs": {"id": "transformgroups"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Metadata"], "extent": [4350, 4360], "body": [{"type": "para", "indent": 4, "text": ["Filename pattern for the agent definition\u2019s ", {"scheme": null, "value": "/crowds/agents#metadata", "type": "link", "text": ["metadata"], "fullpath": "/crowds/agents#metadata", "fragment": "#metadata"}, ", which is a JSON file containing additional custom data."], "extent": [4378, 4519]}], "container": true, "attrs": {"id": "metadata"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Attributes"], "extent": [1255, 1267], "body": [{"type": "para", "indent": 4, "text": ["Saves a geometry file containing the agent primitive\u2019s attributes.\n    While this is not part of the ", {"scheme": null, "value": "/crowds/agents#agentdefinition", "type": "link", "text": ["agent definition"], "fullpath": "/crowds/agents#agentdefinition", "fragment": "#agentdefinition"}, ", it can be useful to preserve the input agent\u2019s attributes when loading from the cache."], "extent": [1267, 1511]}], "container": true, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [1511, 1520], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/agent", "type": "link", "text": "", "fullpath": "/nodes/sop/agent"}], "extent": [1520, 1543]}, {"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/out/agent", "type": "link", "text": "", "fullpath": "/nodes/out/agent"}], "extent": [1543, 1566]}], "container": true}], "text": "Related"}], "title": ["Agent Definition Cache"], "summary": ["Writes agent definition files to disk."], "included": ["/nodes/out/agent", "/nodes/out/standard", "/nodes/sop/agent"]}