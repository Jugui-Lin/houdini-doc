{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "fibergroom", "icon": "SOP/fibergroom", "tag": "character, rigging, muscles, paint", "since": "19.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Fiber Groom"], "extent": [125, 141]}, {"type": "summary", "indent": 0, "text": ["Defines the fiber direction vector for input solid muscle geometry."], "extent": [141, 217]}, {"type": "para", "indent": 0, "text": ["This node allows you to interactively paint the fiber direction for your muscle tetrahedral meshes. "], "extent": [217, 319]}, {"type": "divider", "indent": 0, "extent": [319, 322]}, {"type": "col_group", "body": [{"ext": null, "type": "col", "indent": 0, "role": "item", "extent": [322, 328], "body": [{"type": "para", "indent": 4, "text": ["Each vertex on your tetrahedrons has a direction or ", {"type": "em", "text": ["vector"]}, " associated with it. When you paint fiber direction on your muscles, you are adjusting these vectors. Vector values are stored in the ", {"type": "code", "text": ["materialW"]}, " attribute."], "extent": [328, 550]}, {"type": "para", "indent": 4, "text": ["Fiber direction establishes the anisotropic compression ", {"type": "em", "text": ["axis"]}, " that scaling happens along for muscle contraction. This means that when a muscle flexes (activates) and a  muscle scale force is then applied to a muscle tetrahedron, the tet is then scaled in the direction its fiber vectors point along the muscle."], "extent": [550, 867]}, {"type": "para", "indent": 4, "text": ["When you paint on your geometry with the ", {"type": "ui", "text": ["Fiber Groom"]}, " brush, the fibers are pushed in the direction of your strokes and the orientation of their vectors change accordingly. You want your muscle fibers to flow in the most logical direction for your muscles based on their shapes and where they should bulge when flexed."], "extent": [867, 1194]}, {"type": "note_group", "body": [{"ext": null, "type": "note", "indent": 4, "text": ["Notes"], "role": "item", "extent": [1194, 1211], "body": [{"type": "bullet_group", "body": [{"blevel": 10, "type": "bullet", "indent": 8, "text": ["Some of your fiber direction vector lines may appear to go inside or disappear inside your muscles. This is expected and will not affect your painted vector values as ", {"type": "code", "text": ["materialW"]}, " only accepts a direction along the ", {"type": "em", "text": ["surface"]}, " of your muscles as a value. You cannot paint values contrary to this even when the fiber direction vector lines in the viewport state may depict otherwise."], "extent": [1211, 1601]}, {"blevel": 10, "type": "bullet", "indent": 8, "text": ["The initial fiber groom for each muscle is based on a muscle\u2019s ", {"type": "em", "text": ["longest axis"]}, ". As such, the default fiber groom values for regular shaped muscles may be more desirable initially than those for oddly shaped muscles."], "extent": [1601, 1827]}], "container": true}], "container": true}], "container": true, "role": "item_group"}], "container": true}, {"ext": null, "type": "col", "indent": 0, "role": "item", "extent": [1827, 1833], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [" ", {"scheme": "Image", "value": "/images/musclestissue/musclestissue_tetfibervector.png", "type": "img", "text": ""}], "role": "item", "extent": [1833, 1906], "body": [], "container": true, "attrs": {"display": "right full"}}, {"ext": null, "type": "fig", "indent": 4, "text": [" ", {"scheme": "Image", "value": "/images/musclestissue/musclestissue_tetvolumescaleforce.png", "type": "img", "text": ""}], "role": "item", "extent": [1936, 2014], "body": [], "container": true, "attrs": {"display": "right full"}}], "container": true, "role": "item_group"}], "container": true}], "container": true, "role": "item_group"}, {"type": "divider", "indent": 0, "extent": [2194, 2197]}, {"level": 1, "id": "state", "container": true, "type": "state_section", "indent": 0, "role": "section", "extent": [2197, 2205], "body": [{"level": 3, "type": "sep", "indent": 0, "text": [" Fiber Groom state hotkeys "], "extent": [2205, 2240], "body": [{"type": "table", "thead": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Hotkeys or Interaction"], "role": "th", "extent": [2258, 2287], "container": true, "attrs": {"width": "35%"}}, {"type": "cell", "indent": 8, "text": ["Action "], "role": "th", "extent": [2307, 2325]}], "divider": false}], "body": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": [{"keys": ["LMB"], "type": "keys", "text": null}, "-drag "], "role": "td", "extent": [2325, 2344], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Paint the direction of the muscle fibers."], "extent": [2344, 2394]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": ["Press+hold ", {"keys": ["S"], "type": "keys", "text": null}, " "], "role": "td", "extent": [2394, 2417], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Enter isolation selection mode. ", {"keys": ["LMB"], "type": "keys", "text": null}, "-click a muscle while in this mode to isolate it. While in ", {"type": "em", "text": ["isolation paint mode"]}, ", any strokes you paint will only affect the isolated muscle. By default, you can paint ", {"type": "em", "text": ["across"]}, " all muscles."], "extent": [2417, 2656]}]}], "divider": false}]}], "container": true, "attrs": {"id": "hotkeys"}}, {"level": 3, "type": "sep", "indent": 0, "text": [" Fiber Groom state right-click menu "], "extent": [2656, 2699], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": [{"keys": ["RMB"], "type": "keys", "text": null}, " menu > ", {"type": "ui", "text": ["Clear All Selections"]}], "extent": [2699, 2745], "body": [{"type": "para", "indent": 8, "text": ["Exit isolation paint mode."], "extent": [2745, 2780]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"keys": ["RMB"], "type": "keys", "text": null}, " menu > ", {"type": "ui", "text": ["Reset Selected"]}], "extent": [2780, 2820], "body": [{"type": "para", "indent": 8, "text": ["When isolating a muscle, only removes the strokes you painted on the isolated muscle. When not isolating a muscle, removes all your unsaved strokes from all your muscles."], "extent": [2820, 2999]}], "container": true}, {"type": "dt", "indent": 4, "text": [{"keys": ["RMB"], "type": "keys", "text": null}, " menu > ", {"type": "ui", "text": ["Reset All"]}], "extent": [2999, 3033], "body": [{"type": "para", "indent": 8, "text": ["Removes all the unsaved strokes from all your muscles."], "extent": [3033, 3098]}], "container": true}], "container": true}], "container": true}, {"level": 3, "type": "sep", "indent": 0, "text": [" Fiber Groom state visualizers "], "extent": [3098, 3136], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 4, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/fibergroom_stateviz.jpg", "type": "img", "text": ""}], "role": "item", "extent": [3136, 3197], "body": [{"type": "fig_group", "body": [{"ext": null, "type": "fig", "indent": 8, "text": [" ", {"scheme": "Image", "value": "/images/nodes/sop/fibergroom_isolationviz.jpg", "type": "img", "text": ""}], "role": "item", "extent": [3228, 3296], "body": [], "container": true, "attrs": {"display": "right half"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"display": "left narrow"}}], "container": true, "role": "item_group"}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [3330, 3342], "body": [{"type": "summary", "indent": 8, "text": ["Example: Painting the fiber direction"], "extent": [3425, 3479]}], "container": true, "attrs": {"src": "/videos/musclestissue_paintingfiberdirection.mp4", "loop": "true"}}], "container": true, "role": "item_group"}], "container": true}], "text": "State"}, {"level": 1, "id": "attributes", "container": true, "type": "attributes_section", "indent": 0, "role": "section", "extent": [3479, 3491], "body": [{"type": "attributes_item_group", "body": [{"ext": null, "type": "attributes_item", "indent": 0, "text": [{"type": "code", "text": ["materialW"]}], "role": "item", "extent": [3491, 3507], "body": [{"type": "para", "indent": 4, "text": ["Sets and stores the local space direction or ", {"type": "em", "text": ["vector"]}, " that is used for the fiber groom direction.\n     "], "extent": [3525, 4340]}], "container": true, "attrs": {"type": "point"}, "id": "materialw"}], "container": true, "role": "item_group"}], "text": "Attributes"}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [4340, 4352], "body": [{"type": "para", "indent": 0, "text": ["Group"], "extent": [4352, 4359], "body": [{"type": "para", "indent": 4, "text": ["Restricts the groom to only the specified muscles (", {"type": "code", "text": ["muscle_ids"]}, "). "], "extent": [4375, 4447]}], "container": true, "attrs": {"id": "group"}}, {"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Piece Attribute"], "extent": [4447, 4464], "body": [{"type": "para", "indent": 4, "text": ["Specifies the attribute that identifies your muscle geometry pieces for the fiber groom. By default, ", {"type": "ui", "text": ["Piece Attribute"]}, " is ", {"type": "code", "text": ["muscle_id"]}, "."], "extent": [4489, 4631]}, {"type": "para", "indent": 4, "text": ["If you are using this node for a purpose other than for muscles, you can specify your custom attribute here."], "extent": [4631, 4745]}], "container": true, "attrs": {"id": "pieceattribute"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Visualize Fiber Direction Vectors"], "extent": [4745, 4780], "body": [{"type": "para", "indent": 4, "text": ["When on, the fiber direction vectors for your muscles are represented by ", {"type": "em", "text": ["blue lines"]}, " in the viewport state."], "extent": [4815, 4929]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [4929, 4941], "body": [{"type": "summary", "indent": 8, "text": ["Example: Visualize Fiber Direction Vectors on/off"], "extent": [5026, 5091]}], "container": true, "attrs": {"src": "/videos/musclestissue_vizfiberdirectionvectors.mp4", "loop": "true"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "vizfiberdirectionvectors"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Vector Scale"], "extent": [5091, 5105], "body": [{"type": "para", "indent": 4, "text": ["Increases or degrees the length of the fiber direction vector lines in the viewport state."], "extent": [5127, 5223]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [5223, 5235], "body": [], "container": true, "attrs": {"src": "/videos/musclestissue_vectorscale.mp4", "loop": "true"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "vectorscale"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Strokes Ignore Pieces"], "extent": [5308, 5331], "body": [{"type": "para", "indent": 4, "text": ["Each of your strokes registers itself on the first point you click. When on, you can stroke the fibers across multiple muscles at once. When off, you can only groom the fibers on the individual muscle you began your stroke on. ", {"type": "ui", "text": ["Strokes Ignore Pieces"]}, " is ", {"type": "em", "text": ["off"]}, " by default."], "extent": [5360, 5639]}, {"type": "video_group", "body": [{"ext": null, "type": "video", "indent": 4, "role": "item", "extent": [5639, 5651], "body": [{"type": "summary", "indent": 8, "text": ["Example: Strokes Ignore Pieces on/off"], "extent": [5732, 5785]}], "container": true, "attrs": {"src": "/videos/musclestissue_strokesignorepieces.mp4", "loop": "false"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "strokeignorepieces"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["External Curves"], "extent": [5785, 5802], "body": [{"type": "para", "indent": 4, "text": ["Uses a series of external curves to drive the fiber groom stroke direction for your muscles."], "extent": [5822, 5920]}, {"type": "para", "indent": 4, "text": ["This parameter is only available when you have external poly lines connected to ", {"type": "em", "text": ["input 2"]}, " of the ", {"type": "ui", "text": ["Fiber Groom SOP"]}, " node. "], "extent": [5920, 6049]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Groom Fibers By Proximity"], "extent": [6049, 6080], "body": [{"type": "para", "indent": 8, "text": ["Muscles use the curves closest to them in proximity to determine their fiber groom stroke directions."], "extent": [6080, 6191]}], "container": true}, {"type": "dt", "indent": 4, "text": ["Groom By Matching MuscleID"], "extent": [6191, 6223], "body": [{"type": "para", "indent": 8, "text": ["Muscles use the curves that match their muscle IDs to determine their fiber groom stroke directions."], "extent": [6223, 6338]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "extcurves"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Symmetry"], "extent": [6338, 6353], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Enable Symmetry"], "extent": [6353, 6371], "body": [{"type": "para", "indent": 4, "text": ["When on, groom both halves of your model at the same time if your model is symmetrical."], "extent": [6396, 6493]}], "container": true, "attrs": {"id": "enablesymmetry"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mirror Origin"], "extent": [6493, 6508], "body": [{"type": "para", "indent": 4, "text": ["Origin of mirror plane."], "extent": [6531, 6561]}], "container": true, "attrs": {"id": "mirrororigin"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mirror Distance"], "extent": [6561, 6578], "body": [{"type": "para", "indent": 4, "text": ["Distance of the mirror plane along its normal"], "extent": [6603, 6658]}], "container": true, "attrs": {"id": "mirrordist"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Mirror Direction"], "extent": [6658, 6676], "body": [{"type": "para", "indent": 4, "text": ["Normal direction of mirror plane."], "extent": [6696, 6735]}], "container": true, "attrs": {"id": "mirrordir"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Clear All Strokes"], "extent": [6735, 6754], "body": [{"type": "para", "indent": 4, "text": ["Deletes all the unsaved strokes from all your muscles."], "extent": [6784, 6848]}], "container": true, "attrs": {"id": "clearallstrokes"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [6848, 6856], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 0, "text": ["Input 1"], "extent": [6856, 6865], "body": [{"type": "para", "indent": 4, "text": ["Muscle tetrahedral meshes with ", {"type": "code", "text": ["muscle_ids"]}, "."], "extent": [6865, 6915]}], "container": true}, {"type": "dt", "indent": 0, "text": ["Input 2"], "extent": [6915, 6924], "body": [{"type": "para", "indent": 4, "text": ["Helper curves to direct muscle fiber direction. You can use these poly lines alone or as your first set of strokes. Poly lines that have the same ", {"type": "code", "text": ["muscle_id"]}, " names as muscles are automatically linked to their like-named corresponding muscles."], "extent": [6924, 7172]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [7172, 7181], "body": [{"type": "para", "indent": 0, "text": [{"type": "code", "text": ["materialW"]}, " attributes values."], "extent": [7181, 7213]}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [7213, 7222], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/muscleproperties", "type": "link", "text": "", "fullpath": "/nodes/sop/muscleproperties"}], "extent": [7222, 7252]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/muscleflex", "type": "link", "text": "", "fullpath": "/nodes/sop/muscleflex"}], "extent": [7252, 7276]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/attribpaint", "type": "link", "text": "", "fullpath": "/nodes/sop/attribpaint"}], "extent": [7276, 7302]}], "container": true}], "text": "Related"}], "title": ["Fiber Groom"], "summary": ["Defines the fiber direction vector for input solid muscle geometry."]}