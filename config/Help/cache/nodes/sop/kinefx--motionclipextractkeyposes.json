{"type": "root", "attrs": {"type": "node", "context": "sop", "namespace": "kinefx", "internal": "motionclip", "icon": "SOP/kinefx-motionclipextractkeyposes", "tags": "animation", "since": "18.5", "verb_since": "19.0", "version": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["MotionClip Extract Key Poses"], "extent": [159, 192]}, {"type": "summary", "indent": 0, "text": ["Identifies the key poses of an animation"], "extent": [192, 241]}, {"type": "para", "indent": 0, "text": ["This SOP takes as input a ", {"scheme": null, "value": "kinefx--motionclip", "type": "link", "text": ["MotionClip"], "fullpath": "/nodes/sop/kinefx--motionclip"}, " and outputs a\nMotionClip with only the most important poses for defining the motion of\nthe character."], "extent": [241, 402]}, {"type": "para", "indent": 0, "text": ["This SOP lets the user specify a number of key poses to output, the maximum\nnumber of poses in between key poses, and what method to use to measure the\nquality of a sequence of key poses. It then uses these parameters to determine\nan optimal set of key poses for the animation which starts with the first\npose and ends with the last pose."], "extent": [402, 742]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [742, 754], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 4, "text": ["Optimization Method"], "extent": [754, 780], "body": [{"type": "para", "indent": 8, "text": ["The method used to determine the optimal set of key poses."], "extent": [801, 869]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Minimize Worst Pose"], "extent": [869, 898], "body": [{"type": "para", "indent": 12, "text": ["The error in the worst pose of the interpolated animation will be minimized."], "extent": [898, 988]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Minimize Worst Joint"], "extent": [988, 1018], "body": [{"type": "para", "indent": 12, "text": ["The error in the worst joint of the interpolated animation will be minimized."], "extent": [1018, 1109]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Minimize Average Pose"], "extent": [1109, 1140], "body": [{"type": "para", "indent": 12, "text": ["The error in the average pose of the animation will be minimized."], "extent": [1140, 1219]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "method"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Max Step"], "extent": [1219, 1233], "body": [{"type": "para", "indent": 8, "text": ["The maximum number of poses of the input animation between key poses of the output animation. Reducing this increases the efficiency of the node. If this is disabled, the maximum number of poses between key poses will not be limited."], "extent": [1255, 1498]}], "container": true, "attrs": {"id": "maxstep"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Output Method"], "extent": [1498, 1517], "body": [{"type": "para", "indent": 8, "text": ["The method used to determine the output of the node."], "extent": [1544, 1606]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 8, "text": ["Extract Key Poses"], "extent": [1606, 1633], "body": [{"type": "para", "indent": 12, "text": ["The output will be a MotionClip containing only the key poses of the input MotionClip."], "extent": [1633, 1733]}], "container": true}, {"type": "dt", "indent": 8, "text": ["Identify Key Poses"], "extent": [1733, 1761], "body": [{"type": "para", "indent": 12, "text": ["The output will be a copy of the input MotionClip with an additional 'keypose' primitive attribute. For each pose, this primitive attribute will have a value of 1 on each key pose and 0 on every other pose."], "extent": [1761, 1981]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "outputmethod"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Target"], "extent": [1981, 1993], "body": [{"type": "para", "indent": 8, "text": ["How the node computes the number of key poses to extract: reduce to a percentage of the initial number of poses and reduce to a fixed number of poses."], "extent": [2014, 2174]}], "container": true, "attrs": {"id": "target"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Percent to Keep"], "extent": [2174, 2195], "body": [{"type": "para", "indent": 8, "text": ["When ", {"type": "ui", "text": ["Target"]}, " is ", {"type": "q", "text": ["Percentage of Input Poses"]}, ", this specifies what percentage of the original poses to extract as key poses."], "extent": [2220, 2355]}], "container": true, "attrs": {"id": "percentage"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Key Poses"], "extent": [2355, 2370], "body": [{"type": "para", "indent": 8, "text": ["When ", {"type": "ui", "text": ["Target"]}, " is ", {"type": "q", "text": ["Pose Count"]}, ", this specifies the number of key poses to extract."], "extent": [2393, 2486]}], "container": true, "attrs": {"id": "keyposes"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Continue reducing within quality tolerance"], "extent": [2486, 2534], "body": [{"type": "para", "indent": 8, "text": ["When this is on, MotionClip Extract Key Poses will opportunistically reduce the number of key poses ", {"type": "em", "text": ["beyond"]}, " the target as long as it can do so while matching the original shape within a certain quality tolerance. Turn this on if the target is your goal but you would be happy to get fewer key poses in the result."], "extent": [2565, 2889]}], "container": true, "attrs": {"id": "reducepasttarget"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Tolerance"], "extent": [2889, 2904], "body": [{"type": "para", "indent": 8, "text": ["When ", {"type": "ui", "text": ["Continue reducing within quality tolerance"]}, " is on, after MotionClip Extract Key Poses reaches the target, it will continue to remove poses as long as the difference in quality measurement is within this tolerance. The quality measurement is determined by ", {"type": "ui", "text": ["Optimization Method"]}, "."], "extent": [2928, 3225]}], "container": true, "attrs": {"id": "tolerance"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Trim Poses Outside of the Clip Range"], "extent": [3225, 3267], "body": [{"type": "para", "indent": 8, "text": ["If enabled, the poses which are defined outside of the range defined by the ", {"type": "code", "text": ["clipinfo"]}, " detail attribute will be trimmed with the exception of the first pose at or before the beginning of the range and the first pose at or after the end of the range."], "extent": [3286, 3545]}], "container": true, "attrs": {"id": "trim"}, "role": "item"}, {"type": "parameters_item", "indent": 4, "text": ["Frame Range"], "extent": [3545, 3562], "body": [{"type": "para", "indent": 8, "text": ["The range of the input frames over which to extract key poses. Frames outside of this range will remain unaltered."], "extent": [3582, 3706]}], "container": true, "attrs": {"id": "range"}, "role": "item"}], "container": true, "role": "item_group"}], "text": "Parameters"}, {"level": 1, "id": "inputs", "container": true, "type": "inputs_section", "indent": 0, "role": "section", "extent": [3706, 3714], "body": [{"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["First input"], "extent": [3714, 3732], "body": [{"type": "para", "indent": 8, "text": ["The MotionClip from which the key poses are extracted."], "extent": [3732, 3796]}], "container": true}], "container": true}], "text": "Inputs"}, {"level": 1, "id": "outputs", "container": true, "type": "outputs_section", "indent": 0, "role": "section", "extent": [3796, 3805], "body": [{"type": "para", "indent": 4, "text": ["A MotionClip containing only the key poses of the input MotionClip."], "extent": [3805, 3883]}], "text": "Outputs"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3883, 3892], "body": [{"type": "bullet_group", "body": [{"blevel": 6, "type": "bullet", "indent": 4, "text": [{"scheme": "Node", "value": "/nodes/sop/kinefx--motionclip", "type": "link", "text": "", "fullpath": "/nodes/sop/kinefx--motionclip"}], "extent": [3892, 3929]}], "container": true}], "text": "Related"}], "title": ["MotionClip Extract Key Poses"], "summary": ["Identifies the key poses of an animation"]}